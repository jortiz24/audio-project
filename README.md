# audio-project
Senior project

Jeremy Ortiz, Project Conclusions

	For this project, the goal was to observe different approaches of using onset detection, both spectral and energy based. The general idea was to test varying conditions in music, while maintaining as many other aspects of music as unchanged as possible. It was observed in many different cases, genres, instruments, and other relevant qualities that a sound is able to produce and generate in our signals and programs. Some of the more interesting outcomes is how amplitude or spectral energy was more distinguishable for some pieces with specific criteria, such as a sound file where the audio was too weak for frequencies to be clearly picked up but amplitude was more clearly represented despite not being entirely visualized in the tests and signals either. After finishing the project, there were a lot more noticeable patterns and comparisons than originally expected even with limited data and conclusions on harder test cases. There are clear improvements to be made as well as future adjustments given more freedom and time, but the work from this project gives good introductory insight to how much different observations can be made regarding different aspects of a signal or sound. 
	First case that I want to mention is the same one that I described as having varying levels of “loudness” in the audio that did not become fully realized in the signals generated. 
  

In the data here and this test parameters shown, the onsets aren’t clearly being measured in a pattern that provides any information and it is hard to analyze due to the nature of the signal. The song is a pretty continuous piece of music without significant silences but the signal reflected what sounded like a modulating amplitude comparable to a triangle signal or modification so it’s difficult to accurately quantify the onsets in this example that can’t be reflected in the signal with complicated peaks. This amplitude based example is more accurate in comparison to the frequency as there weren’t enough useful peaks to pick out compared to the amplitude tests.Similarly, the tests regarding more polyphonic examples where the amplitudes were much greater than other cases had extreme difficulty identifying any useful peaks to the point where onsets couldn’t be done in any capacity (referred as variables orchestra). The spectral data seemed like a better place to start with more noticeable peaks but amplitude was more of a lost cause.
	On the other end, there were more conclusive examples that gave more worthwhile data regarding onsets. One example regarding a song with different variations, one more of a digital and artificially created piece compared to live orchestration of the same music. On the next page is the data of the original piece that was artificially produced and its parameters next to the signal of the orchestra version. Both onsets are relatively accurate based on the music in each version but the thing that came to mind working on these tests on how to measure accuracy of onsets in terms of how many onsets to have and which to include and which to not include? This is more in terms of onsets for different sources like one instrument compared to another versus sacrificing the accuracy of onsets to get a wider range and larger number of onsets even if it includes more inaccurate ones. The reason this is worth thinking about for example is the end of these songs where a drum roll comes in where the pianos normally play individual notes. The drum rolls in this instance weren’t enough of an interference to disturb the source of the onsets before the drum roll, but whether ot not to include drum rolls in the onset as well and how accurately to get those without diminishing already good results in a consideration that can help determine better onset detection methods. 
  
	Even with these results, it is difficult to come up with a single comprehensive take away. Compared to other data, there seemed to be a unique obstacle regarding different genres and the different ways these songs are constructed. Some pieces were straightforward, where  music was isolated with one instrument at a time while a handful but not all had some difficulty differentiating between multiple sound sources at once. Another interesting note was how clean certain peaks and signals were. There were two examples of artificially created music signals, variables K and PI2 that had relatively perfect looking peaks with little surrounding noise compared to live versions where the signals slowly died out through vibrations. On top of this, some comparisons of distortions to sounds and their signals, such as reverb, seemed to have little effect on finding accurate onsets even if sounds carried on into other oncoming notes. 
	To finalize this project, there have been some suggestions that come to mind regarding limitations and workarounds to the problems seen here. A majority of the tests went rather smoothly with a handful of difficult cases each with their own issue whether it was the nature of the file’s sound quality or the actual performance being difficult to analyze and measure. The consistent difficulty found in reasonable test cases were a lot of middling peaks that were out of place in the songs and interfered with the accuracy of parameters. Some peaks that were accurate and detected a real onset would be impossible to pick out without also choosing inaccurate peaks as well. 
One idea is limiting what onsets you want to choose based on the source of the onset, if multiple exist, or sticking to onsets for a specific rhythm. On the other hand, more extensive tests can be done on individual pieces of music to isolate certain groups of peaks with specific parameters and doing multiple tests on the same signal. Using multiple tests, you can get peaks in certain ranges by limiting parameters like height to a low bound X and upper bound Y [X,Y] and doing this for a range of high value and accurate peaks and low value accurate peaks(for example Heights of [.6, 1] and [0, 0.4] if there are peaks between 0.4 and 0.6 that aren’t in the song.) Doing this in separate tests and appending the onsets in order to get more selective peaks in one option, although whether or not is efficient is different. It would probably require the use of a sorting algorithm to order the onsets by window/time properly. These are the most important results that I was able to notice based on these tests, but with more time it would be useful to try and implement them or test how accurate onsets are in comparison to each other. Using two pieces that have identical onsets, if ground truth data is available then comparing the percent accuracy of spectral or amplitude would be good to look into moving forward as well. If possible at all, maybe adjusting how a signal is formed would be a good place to start as well since some signals did not appear to accurately represent the real life audio content of the files.  However, other concrete methods focusing on approaches like isolation, whether it's the peaks themselves or specific aspects and sound sources in the audio would be helpful overall when determining onsets in a sound’s signal. 


List of references/data used
CTRL F in notebooks useful for finding each samples, or just searching “Test song #” 1 through 5
Most data was taken from youtube, converted into wav files just using online resources.
https://www.youtube.com/watch?v=Je4TiYe465U test variable KuA
https://www.youtube.com/watch?v=Bfgy3ei3qg4 test variable Ku
https://www.youtube.com/watch?v=QIX65EMSkYY test var PI2
https://www.youtube.com/watch?v=XX9AroX7x1o test PO
https://www.youtube.com/watch?v=Hg3xlQDMzws test P7
https://www.youtube.com/watch?v=8wZoJQABWI8 test PI
https://www.youtube.com/watch?v=AgOJSU8mp-w test A
https://www.youtube.com/watch?v=WVJdv-s9QWg test Ao
https://www.youtube.com/watch?v=O11KHKlGxmM test K
https://www.youtube.com/watch?v=uQ0X2vGd_EU test Kp
https://www.youtube.com/watch?v=HAMaTgO1hlE test Ko
https://www.youtube.com/watch?v=9sJtHF_I-Uo test guitar
https://www.youtube.com/watch?v=l2k_u0hZ5bs test trombone
https://www.youtube.com/results?search_query=tema+principale+piano test piano
https://www.youtube.com/watch?v=U0lEwpdM8MI test orchestra
